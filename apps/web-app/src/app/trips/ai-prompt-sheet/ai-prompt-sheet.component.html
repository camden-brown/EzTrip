<div
  class="prompt-overlay"
  [class.visible]="isVisible()"
  (click)="onBackdropClick()"
>
  <div
    class="prompt-sheet"
    [class.visible]="isVisible()"
    (click)="$event.stopPropagation()"
  >
    <div class="prompt-header">
      <h3>Add to your itinerary</h3>
      <button mat-icon-button (click)="closeSheet()">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="prompt-content">
      <div class="prompt-input-wrapper">
        <textarea
          #promptInput
          class="prompt-input"
          placeholder="Describe what you'd like to add... (e.g., 'Find a kid-friendly beach near Poipu' or 'Suggest a dinner spot with ocean views')"
          [value]="promptText()"
          (input)="updatePrompt($event)"
          (keydown)="onKeydown($event)"
          rows="3"
        ></textarea>
        <button
          class="submit-btn"
          mat-fab
          color="primary"
          [disabled]="!promptText().trim()"
          (click)="onSubmit()"
        >
          <mat-icon>send</mat-icon>
        </button>
      </div>

      <div class="prompt-suggestions">
        <span class="suggestions-label">Suggestions:</span>
        <button
          mat-stroked-button
          class="suggestion-chip"
          (click)="promptText.set('Find a kid-friendly restaurant nearby')"
        >
          Kid-friendly restaurant
        </button>
        <button
          mat-stroked-button
          class="suggestion-chip"
          (click)="
            promptText.set('Suggest a beach activity for young children')
          "
        >
          Beach activity for kids
        </button>
        <button
          mat-stroked-button
          class="suggestion-chip"
          (click)="promptText.set('Find a hotel or place to stay')"
        >
          Place to stay
        </button>
        <button
          mat-stroked-button
          class="suggestion-chip"
          (click)="promptText.set('Easy hike with scenic views')"
        >
          Easy scenic hike
        </button>
      </div>
    </div>
  </div>
</div>
