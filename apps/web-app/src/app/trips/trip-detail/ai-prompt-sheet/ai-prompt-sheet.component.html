<div
  class="ai-prompt__overlay"
  [class.ai-prompt__overlay--visible]="isVisible()"
  (click)="onBackdropClick()"
>
  <div
    class="ai-prompt"
    [class.ai-prompt--visible]="isVisible()"
    (click)="$event.stopPropagation()"
  >
    <div class="ai-prompt__header">
      <h3 class="ai-prompt__title">Add to your itinerary</h3>
      <button mat-icon-button (click)="closeSheet()" class="ai-prompt__close">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="ai-prompt__content">
      <div class="ai-prompt__input-wrapper">
        <textarea
          #promptInput
          class="ai-prompt__input"
          placeholder="Describe what you'd like to add... (e.g., 'Find a kid-friendly beach near Poipu' or 'Suggest a dinner spot with ocean views')"
          [value]="promptText()"
          (input)="updatePrompt($event)"
          (keydown)="onKeydown($event)"
          rows="3"
        ></textarea>
        <button
          class="ai-prompt__submit"
          mat-fab
          color="primary"
          [disabled]="!promptText().trim()"
          (click)="onSubmit()"
        >
          <mat-icon>send</mat-icon>
        </button>
      </div>

      <div class="ai-prompt__suggestions">
        <span class="ai-prompt__suggestions-label">Suggestions:</span>
        <button
          mat-stroked-button
          class="ai-prompt__chip"
          (click)="promptText.set('Find a kid-friendly restaurant nearby')"
        >
          Kid-friendly restaurant
        </button>
        <button
          mat-stroked-button
          class="ai-prompt__chip"
          (click)="
            promptText.set('Suggest a beach activity for young children')
          "
        >
          Beach activity for kids
        </button>
        <button
          mat-stroked-button
          class="ai-prompt__chip"
          (click)="promptText.set('Find a hotel or place to stay')"
        >
          Place to stay
        </button>
        <button
          mat-stroked-button
          class="ai-prompt__chip"
          (click)="promptText.set('Easy hike with scenic views')"
        >
          Easy scenic hike
        </button>
      </div>
    </div>
  </div>
</div>
