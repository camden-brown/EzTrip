<mat-toolbar class="top-nav">
  <div class="nav-left">
    <a routerLink="/" class="logo">
      <span class="logo-icon">âœˆ</span>
      <span class="logo-text">EzTrip</span>
    </a>
  </div>

  <div class="nav-right">
    @if (isAuthenticated$ | async) {
      <!-- Authenticated User Menu -->
      <!-- Trips -->
      <a
        mat-icon-button
        routerLink="/trips"
        aria-label="My trips"
        class="nav-icon-btn"
      >
        <mat-icon fontSet="material-symbols-outlined">travel_luggage_and_bags</mat-icon>
      </a>

      <!-- Notifications -->
      <button
        mat-icon-button
        [matMenuTriggerFor]="notificationsMenu"
        aria-label="Notifications"
        class="nav-icon-btn"
      >
        <mat-icon
          [matBadge]="notificationCount"
          matBadgeColor="warn"
          matBadgeSize="small"
          [matBadgeHidden]="notificationCount === 0"
          aria-hidden="false"
        >
          notifications
        </mat-icon>
      </button>

      <mat-menu #notificationsMenu="matMenu" class="notifications-menu">
        <eztrip-notifications [notificationCount]="notificationCount" />
      </mat-menu>

      <!-- User Profile -->
      <button
        mat-icon-button
        [matMenuTriggerFor]="userMenu"
        class="user-menu-trigger"
        aria-label="User menu"
      >
        <mat-icon>person</mat-icon>
      </button>

      <mat-menu #userMenu="matMenu" class="user-menu" xPosition="before">
        <eztrip-profile-menu (logout)="onLogout()" />
      </mat-menu>
    } @else {
      <!-- Guest Menu -->
      <button
        mat-flat-button
        color="primary"
        (click)="onLogin()"
        aria-label="Log in"
      >
        Log in
      </button>
    }
  </div>
</mat-toolbar>
